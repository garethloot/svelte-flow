(function(b,f){typeof exports=="object"&&typeof module<"u"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(b=typeof globalThis<"u"?globalThis:b||self,f(b.SvelteFlow={}))})(this,function(b){"use strict";function f(){}function Q(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function L(t){return t()}function O(){return Object.create(null)}function C(t){t.forEach(L)}function M(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function R(t){return Object.keys(t).length===0}function h(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function V(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function z(){return y(" ")}function W(){return y("")}function X(t,e,n,c){return t.addEventListener(e,n,c),()=>t.removeEventListener(e,n,c)}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Y(t){return Array.from(t.childNodes)}function Z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function tt(t,e,n,c){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,c?"important":"")}let E;function p(t){E=t}function et(){if(!E)throw new Error("Function called outside component initialization");return E}const v=[],H=[],A=[],I=[],nt=Promise.resolve();let B=!1;function ct(){B||(B=!0,nt.then(N))}function T(t){A.push(t)}const D=new Set;let w=0;function N(){if(w!==0)return;const t=E;do{try{for(;w<v.length;){const e=v[w];w++,p(e),rt(e.$$)}}catch(e){throw v.length=0,w=0,e}for(p(null),v.length=0,w=0;H.length;)H.pop()();for(let e=0;e<A.length;e+=1){const n=A[e];D.has(n)||(D.add(n),n())}A.length=0}while(v.length);for(;I.length;)I.pop()();B=!1,D.clear(),p(t)}function rt(t){if(t.fragment!==null){t.update(),C(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const P=new Set;let k;function ot(){k={r:0,c:[],p:k}}function lt(){k.r||C(k.c),k=k.p}function U(t,e){t&&t.i&&(P.delete(t),t.i(e))}function ut(t,e,n,c){if(t&&t.o){if(P.has(t))return;P.add(t),k.c.push(()=>{P.delete(t),c&&(n&&t.d(1),c())}),t.o(e)}else c&&c()}function st(t,e){const n=e.token={};function c(r,o,s,l){if(e.token!==n)return;e.resolved=l;let i=e.ctx;s!==void 0&&(i=i.slice(),i[s]=l);const u=r&&(e.current=r)(i);let g=!1;e.block&&(e.blocks?e.blocks.forEach((d,m)=>{m!==o&&d&&(ot(),ut(d,1,1,()=>{e.blocks[m]===d&&(e.blocks[m]=null)}),lt())}):e.block.d(1),u.c(),U(u,1),u.m(e.mount(),e.anchor),g=!0),e.block=u,e.blocks&&(e.blocks[o]=u),g&&N()}if(Q(t)){const r=et();if(t.then(o=>{p(r),c(e.then,1,e.value,o),p(null)},o=>{if(p(r),c(e.catch,2,e.error,o),p(null),!e.hasCatch)throw o}),e.current!==e.pending)return c(e.pending,0),!0}else{if(e.current!==e.then)return c(e.then,1,e.value,t),!0;e.resolved=t}}function it(t,e,n){const c=e.slice(),{resolved:r}=t;t.current===t.then&&(c[t.value]=r),t.current===t.catch&&(c[t.error]=r),t.block.p(c,n)}function ft(t,e,n,c){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),c||T(()=>{const s=t.$$.on_mount.map(L).filter(M);t.$$.on_destroy?t.$$.on_destroy.push(...s):C(s),t.$$.on_mount=[]}),o.forEach(T)}function dt(t,e){const n=t.$$;n.fragment!==null&&(C(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){t.$$.dirty[0]===-1&&(v.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,c,r,o,s,l=[-1]){const i=E;p(t);const u=t.$$={fragment:null,ctx:[],props:o,update:f,not_equal:r,bound:O(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:O(),dirty:l,skip_bound:!1,root:e.target||i.$$.root};s&&s(u.root);let g=!1;if(u.ctx=n?n(t,e.props||{},(d,m,...x)=>{const S=x.length?x[0]:m;return u.ctx&&r(u.ctx[d],u.ctx[d]=S)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](S),g&&at(t,d)),m}):[],u.update(),g=!0,C(u.before_update),u.fragment=c?c(u.ctx):!1,e.target){if(e.hydrate){const d=Y(e.target);u.fragment&&u.fragment.l(d),d.forEach($)}else u.fragment&&u.fragment.c();e.intro&&U(t.$$.fragment),ft(t,e.target,e.anchor,e.customElement),N()}p(i)}class G{$destroy(){dt(this,1),this.$destroy=f}$on(e,n){if(!M(n))return f;const c=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return c.push(n),()=>{const r=c.indexOf(n);r!==-1&&c.splice(r,1)}}$set(e){this.$$set&&!R(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function J(t,e,n){const c=t.slice();return c[3]=e[n],c}function ht(t){return{c:f,m:f,p:f,d:f}}function _t(t){let e,n,c=t[2].products,r=[];for(let o=0;o<c.length;o+=1)r[o]=K(J(t,c,o));return{c(){e=_("div"),n=_("div");for(let o=0;o<r.length;o+=1)r[o].c();a(n,"role","list"),a(n,"class","collection-wrap w-dyn-items"),a(e,"class","w-dyn-list")},m(o,s){j(o,e,s),h(e,n);for(let l=0;l<r.length;l+=1)r[l].m(n,null)},p(o,s){if(s&1){c=o[2].products;let l;for(l=0;l<c.length;l+=1){const i=J(o,c,l);r[l]?r[l].p(i,s):(r[l]=K(i),r[l].c(),r[l].m(n,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=c.length}},d(o){o&&$(e),V(r,o)}}}function K(t){let e,n,c,r,o=t[3].title+"",s,l,i,u=t[3].price+"",g,d,m;return{c(){e=_("div"),n=_("a"),c=_("div"),r=_("div"),s=y(o),l=z(),i=_("div"),g=y(u),d=y(" USD"),m=z(),a(r,"class","product-name-text"),a(i,"data-wf-sku-bindings","%5B%7B%22from%22%3A%22f_price_%22%2C%22to%22%3A%22innerHTML%22%7D%5D"),a(i,"class","product-price-text"),a(c,"class","product-description"),a(n,"data-wf-sku-bindings","%5B%7B%22from%22%3A%22f_main_image_4dr.url%22%2C%22to%22%3A%22style.background-image%22%7D%5D"),tt(n,"background-image","url("+t[3].thumbnail+")"),a(n,"href","/product/unbelievable"),a(n,"class","product-image-wrap w-inline-block"),a(e,"role","listitem"),a(e,"class","collection-item w-dyn-item")},m(x,S){j(x,e,S),h(e,n),h(n,c),h(c,r),h(r,s),h(c,l),h(c,i),h(i,g),h(i,d),h(e,m)},p:f,d(x){x&&$(e)}}}function pt(t){let e;return{c(){e=_("div"),e.textContent="Loading..."},m(n,c){j(n,e,c)},p:f,d(n){n&&$(e)}}}function mt(t){let e,n={ctx:t,current:null,token:null,hasCatch:!1,pending:pt,then:_t,catch:ht,value:2};return st(t[0],n),{c(){e=W(),n.block.c()},m(c,r){j(c,e,r),n.block.m(c,n.anchor=r),n.mount=()=>e.parentNode,n.anchor=e},p(c,[r]){t=c,it(n,t,r)},i:f,o:f,d(c){c&&$(e),n.block.d(c),n.token=null,n=null}}}function gt(t){return[(async()=>await(await fetch("https://dummyjson.com/products")).json())()]}class bt extends G{constructor(e){super(),q(this,e,gt,mt,F,{})}}function yt(t){let e,n,c,r,o;return{c(){e=_("button"),n=y("count is "),c=y(t[0]),a(e,"class","button cc-white-button w-inline-block")},m(s,l){j(s,e,l),h(e,n),h(e,c),r||(o=X(e,"click",t[1]),r=!0)},p(s,[l]){l&1&&Z(c,s[0])},i:f,o:f,d(s){s&&$(e),r=!1,o()}}}function kt(t,e,n){let{count:c=0}=e;const r=()=>{n(0,c+=1)};return t.$$set=o=>{"count"in o&&n(0,c=o.count)},[c,r]}class $t extends G{constructor(e){super(),q(this,e,kt,yt,F,{count:0})}}const vt={Products:bt,Counter:$t},wt=(t,e)=>{new t({target:document.getElementById(e)})};b.Components=vt,b.createComponent=wt,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
