(function(b,f){typeof exports=="object"&&typeof module<"u"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(b=typeof globalThis<"u"?globalThis:b||self,f(b.SvelteFlow={}))})(this,function(b){"use strict";function f(){}function Q(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function L(t){return t()}function O(){return Object.create(null)}function j(t){t.forEach(L)}function M(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function R(t){return Object.keys(t).length===0}function h(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function V(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function z(){return y(" ")}function W(){return y("")}function X(t,e,n,c){return t.addEventListener(e,n,c),()=>t.removeEventListener(e,n,c)}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Y(t){return Array.from(t.childNodes)}function Z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function tt(t,e,n,c){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,c?"important":"")}let E;function p(t){E=t}function et(){if(!E)throw new Error("Function called outside component initialization");return E}const v=[],H=[],A=[],U=[],nt=Promise.resolve();let T=!1;function ct(){T||(T=!0,nt.then(N))}function B(t){A.push(t)}const D=new Set;let w=0;function N(){if(w!==0)return;const t=E;do{try{for(;w<v.length;){const e=v[w];w++,p(e),rt(e.$$)}}catch(e){throw v.length=0,w=0,e}for(p(null),v.length=0,w=0;H.length;)H.pop()();for(let e=0;e<A.length;e+=1){const n=A[e];D.has(n)||(D.add(n),n())}A.length=0}while(v.length);for(;U.length;)U.pop()();T=!1,D.clear(),p(t)}function rt(t){if(t.fragment!==null){t.update(),j(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const P=new Set;let k;function ot(){k={r:0,c:[],p:k}}function ut(){k.r||j(k.c),k=k.p}function q(t,e){t&&t.i&&(P.delete(t),t.i(e))}function lt(t,e,n,c){if(t&&t.o){if(P.has(t))return;P.add(t),k.c.push(()=>{P.delete(t),c&&(n&&t.d(1),c())}),t.o(e)}else c&&c()}function it(t,e){const n=e.token={};function c(r,o,i,u){if(e.token!==n)return;e.resolved=u;let s=e.ctx;i!==void 0&&(s=s.slice(),s[i]=u);const l=r&&(e.current=r)(s);let g=!1;e.block&&(e.blocks?e.blocks.forEach((d,m)=>{m!==o&&d&&(ot(),lt(d,1,1,()=>{e.blocks[m]===d&&(e.blocks[m]=null)}),ut())}):e.block.d(1),l.c(),q(l,1),l.m(e.mount(),e.anchor),g=!0),e.block=l,e.blocks&&(e.blocks[o]=l),g&&N()}if(Q(t)){const r=et();if(t.then(o=>{p(r),c(e.then,1,e.value,o),p(null)},o=>{if(p(r),c(e.catch,2,e.error,o),p(null),!e.hasCatch)throw o}),e.current!==e.pending)return c(e.pending,0),!0}else{if(e.current!==e.then)return c(e.then,1,e.value,t),!0;e.resolved=t}}function st(t,e,n){const c=e.slice(),{resolved:r}=t;t.current===t.then&&(c[t.value]=r),t.current===t.catch&&(c[t.error]=r),t.block.p(c,n)}function ft(t,e,n,c){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),c||B(()=>{const i=t.$$.on_mount.map(L).filter(M);t.$$.on_destroy?t.$$.on_destroy.push(...i):j(i),t.$$.on_mount=[]}),o.forEach(B)}function dt(t,e){const n=t.$$;n.fragment!==null&&(j(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){t.$$.dirty[0]===-1&&(v.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(t,e,n,c,r,o,i,u=[-1]){const s=E;p(t);const l=t.$$={fragment:null,ctx:[],props:o,update:f,not_equal:r,bound:O(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:O(),dirty:u,skip_bound:!1,root:e.target||s.$$.root};i&&i(l.root);let g=!1;if(l.ctx=n?n(t,e.props||{},(d,m,...x)=>{const S=x.length?x[0]:m;return l.ctx&&r(l.ctx[d],l.ctx[d]=S)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](S),g&&at(t,d)),m}):[],l.update(),g=!0,j(l.before_update),l.fragment=c?c(l.ctx):!1,e.target){if(e.hydrate){const d=Y(e.target);l.fragment&&l.fragment.l(d),d.forEach($)}else l.fragment&&l.fragment.c();e.intro&&q(t.$$.fragment),ft(t,e.target,e.anchor,e.customElement),N()}p(s)}class I{$destroy(){dt(this,1),this.$destroy=f}$on(e,n){if(!M(n))return f;const c=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return c.push(n),()=>{const r=c.indexOf(n);r!==-1&&c.splice(r,1)}}$set(e){this.$$set&&!R(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function J(t,e,n){const c=t.slice();return c[3]=e[n],c}function ht(t){return{c:f,m:f,p:f,d:f}}function _t(t){let e,n,c=t[2].products,r=[];for(let o=0;o<c.length;o+=1)r[o]=K(J(t,c,o));return{c(){e=_("div"),n=_("div");for(let o=0;o<r.length;o+=1)r[o].c();a(n,"role","list"),a(n,"class","collection-wrap w-dyn-items"),a(e,"class","w-dyn-list")},m(o,i){C(o,e,i),h(e,n);for(let u=0;u<r.length;u+=1)r[u].m(n,null)},p(o,i){if(i&1){c=o[2].products;let u;for(u=0;u<c.length;u+=1){const s=J(o,c,u);r[u]?r[u].p(s,i):(r[u]=K(s),r[u].c(),r[u].m(n,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=c.length}},d(o){o&&$(e),V(r,o)}}}function K(t){let e,n,c,r,o=t[3].title+"",i,u,s,l=t[3].price+"",g,d,m;return{c(){e=_("div"),n=_("a"),c=_("div"),r=_("div"),i=y(o),u=z(),s=_("div"),g=y(l),d=y(" USD"),m=z(),a(r,"class","product-name-text"),a(s,"data-wf-sku-bindings","%5B%7B%22from%22%3A%22f_price_%22%2C%22to%22%3A%22innerHTML%22%7D%5D"),a(s,"class","product-price-text"),a(c,"class","product-description"),a(n,"data-wf-sku-bindings","%5B%7B%22from%22%3A%22f_main_image_4dr.url%22%2C%22to%22%3A%22style.background-image%22%7D%5D"),tt(n,"background-image","url("+t[3].thumbnail+")"),a(n,"href","/product/unbelievable"),a(n,"class","product-image-wrap w-inline-block"),a(e,"role","listitem"),a(e,"class","collection-item w-dyn-item")},m(x,S){C(x,e,S),h(e,n),h(n,c),h(c,r),h(r,i),h(c,u),h(c,s),h(s,g),h(s,d),h(e,m)},p:f,d(x){x&&$(e)}}}function pt(t){let e;return{c(){e=_("div"),e.textContent="Loading..."},m(n,c){C(n,e,c)},p:f,d(n){n&&$(e)}}}function mt(t){let e,n={ctx:t,current:null,token:null,hasCatch:!1,pending:pt,then:_t,catch:ht,value:2};return it(t[0],n),{c(){e=W(),n.block.c()},m(c,r){C(c,e,r),n.block.m(c,n.anchor=r),n.mount=()=>e.parentNode,n.anchor=e},p(c,[r]){t=c,st(n,t,r)},i:f,o:f,d(c){c&&$(e),n.block.d(c),n.token=null,n=null}}}function gt(t){return[(async()=>await(await fetch("https://dummyjson.com/products")).json())()]}class bt extends I{constructor(e){super(),G(this,e,gt,mt,F,{})}}function yt(t){let e,n,c,r,o;return{c(){e=_("button"),n=y("count is "),c=y(t[0]),a(e,"class","button cc-white-button w-inline-block")},m(i,u){C(i,e,u),h(e,n),h(e,c),r||(o=X(e,"click",t[1]),r=!0)},p(i,[u]){u&1&&Z(c,i[0])},i:f,o:f,d(i){i&&$(e),r=!1,o()}}}function kt(t,e,n){let{count:c=0}=e;const r=()=>{n(0,c+=1)};return t.$$set=o=>{"count"in o&&n(0,c=o.count)},[c,r]}class $t extends I{constructor(e){super(),G(this,e,kt,yt,F,{count:0})}}b.Counter=$t,b.Products=bt,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
